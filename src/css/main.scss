
@charset 'utf-8';

// ============================================================================== //
// ============================================================================== //
// VARIABLES ==================================================================== //
// ============================================================================== //

// FONTS

$sans-serif-stack: ('Source Sans Pro', 'Gill Sans', 'Trebuchet MS', Arial, sans-serif);
$monospace-stack: ('Source Code Pro', monospace);

// COLOURS

$default-background: #fff;
$default-text: #141414;

$c1-darker: #012a58;

$c1-dark: #094183;
$c1-dark-text: #fff;

$c1-light: #f2f5f9;

$c1-border: #cde6ff;

// SPACING

$p: 1.4rem;
$h: #{$p / 2};
$q: #{$p / 4};

// ============================================================================== //
// ============================================================================== //
// MIXINS ======================================================================= //
// ============================================================================== //

@mixin cross-browser($property, $value) {
	-webkit-#{$property}: $value;
		 -moz-#{$property}: $value;
			-ms-#{$property}: $value;
					#{$property}: $value;
}

@mixin mpb($margin:0, $padding:0, $border:0) {
		margin: $margin;
		padding: $padding;
		border: $border;
}

// ============================================================================== //
// ============================================================================== //
// GLOBAL ======================================================================= //
// ============================================================================== //

// Replaces standard box model with one where width/height are the actual
// visable width/height. Padding & border cut into the box.

html {
	box-sizing: border-box;
	@include cross-browser('font-smoothing', antialiased);
	text-rendering: optimizeLegibility;
	scroll-behavior: smooth;

	background-color: $default-background;
	font: 400 16px/1.5rem $sans-serif-stack;
	color: $default-text;

	text-size-adjust: none;
	
	overflow-x: hidden;
	overflow-y: scroll;
	
	min-height: 100vh;
}

*, *:before, *:after {
	box-sizing: inherit;
}

.hide {
	display: none !important;
}

// ============================================================================== //
// ============================================================================== //
// HOMEPAGE ===================================================================== //
// ============================================================================== //

// TBD.

// ============================================================================== //
// ============================================================================== //
// POST ========================================================================= //
// ============================================================================== //

.uomcontent {

	h1.aligned-title {
		padding-bottom: 1.5rem;

		&:after {
			display: none;
		}
	}

	section.lead.left:after {
		margin-top: 2.25rem;
		width: 2.5rem;
		border-bottom: 2px solid currentColor;
		content: "";
		display: block;
		margin-left: 0;
	}

	hr {
		margin: 3rem 0 4.5rem 0;
	}

	.filtered-listing-grid .filtered-listing-item a {
		display: flex;
		flex-direction: column;
		justify-content: space-between;

		strong {
			margin: 0 0 .25rem 0;
		}

		span.date {
			display: block;
			text-align: right;
			// text-transform: uppercase;
			font-size: .9rem;
			font-weight: 600;
			// letter-spacing: 1px;

			&::before {
				content: 'Updated ';
				font-weight: 400;
			}
		}
	}

}


.fig {
	@include mpb(0 auto #{1 * $p} auto);
	max-width: calc(100% - #{1.5 * $p});

	&.inset {
		width: 600px;
	}

	&.outset-1 {
		width: calc(600px + #{4 * $p});
	}
	
	&.outset-2 {
		width: calc(600px + #{8 * $p});
	}
	
	&.outset-3 {
		width: calc(600px + #{16 * $p});
	}

	&.outset-4 {
		width: calc(600px + #{32 * $p});
	}

	&.full-width {
		width: 100%;
		max-width: 100%;
	}

	&.full-width-inset {
		width: 100%;
	}

	&.side-1 {
		clear: both;
		float: right;
		margin-left: $p;
		margin-right: calc((100% - 600px) / 2);
		width: 200px;
	}

	&.side-2 {
		clear: both;
		float: right;
		margin-left: $p;
		margin-right: calc((100% - 600px) / 2 - 100px);
		width: 300px;
	}

	&.side-3 {
		clear: both;
		float: right;
		margin-left: $p;
		margin-right: calc((100% - 600px) / 2 - 200px);
		width: 400px;
	}

	&.more-margin-1 {
		margin-top: #{2 * $p};
		margin-bottom: #{2 * $p};
	}

	&.more-margin-2 {
		margin-top: #{4 * $p};
		margin-bottom: #{4 * $p};
	}

	&.more-margin-3 {
		margin-top: #{8 * $p};
		margin-bottom: #{8 * $p};
	}

	img {
		width: 100%;
		max-width: 100%;
	}

	svg {
		width: 100%;
		overflow: visible;

		// background-color: #fedb4a;
	}
}

.graph-with-toggles {
	display: grid;
	grid-template-rows: [graph-start] 1fr [graph-end];
	grid-template-columns: [toggles-start left-edge] 30% [toggles-end graph-start] 1fr [graph-end right-edge];

	border-top: 1px solid $c1-dark;
	border-bottom: 1px solid $c1-dark;
	min-height: 80vh;
	max-height: 100vh;
	margin: 4.5rem 0 6rem 0;

	aside {
		grid-row: graph-start / graph-end;
		grid-column: toggles-start / toggles-end;
		max-height: 100vh;

		border-right: 1px solid $c1-dark;
		
		display: grid;
		grid-template-rows: auto 1fr;
		grid-template-columns: auto;

		div.about {
			grid-row: 1 / 2;

			padding: $p $p $p $p;
			
			font-size: 1.125rem;

			h1 {
				display: block;
				width: auto;
				margin: 0;
				color: $c1-darker;
				font-size: 1.5rem;
			}
		}

		div.toggles {

			grid-row: 2 / 3;
			overflow-y: scroll;
			scroll-behavior: smooth;
			// border-top: 1px solid $c1-dark;

			// background-color: $c1-light;

			&::-webkit-scrollbar {
				width: 5px;
				height: 5px;
				background-color: $c1-light;
			}
			 
			&::-webkit-scrollbar-thumb {
				background-color: $c1-dark;
				border-radius: 5px;
			}

			.toggle-group {
				display: block;
				margin: 0 $p $p $p;
				// border: 1px solid $c1-dark;
				// border-radius: $q;
				
				.group-details {

					background-color: $c1-light;
					margin: 0 #{-1 * $p};
					padding: $h $p;

					.group-name {
						font-size: 1.2rem;
						// margin-bottom: $h;
					}
				}

				.group-contents {
					display: grid;
					grid-template-columns: repeat(2, .5fr);
					grid-column-gap: $h;
					grid-row-gap: $h;
					padding-top: $h;
					// background-color: $c1-light;
					// border-top: 2px solid #abbed8;
					


					.toggle-box {
						// background-color: $c1-light;
						border-top: 3px solid $c1-dark;
						padding-top: $h;

						&:nth-child(1), &:nth-child(2) {
							border-top: none;
							padding-top: 0;
						}

						font-size: .95rem;

						.name {
							font-weight: 700;
							line-height: 1.1rem;
							color: $c1-darker;
							margin-bottom: 2px;
						}

						.description {
							color: #444;
							margin-bottom: $h;
							line-height: 1.1rem;
						}
					}
				}

			}

		}
	}	

	div.graph {
		grid-row: graph-start / graph-end;
		grid-column: graph-start / graph-end;
		max-height: 100vh;

		padding: 100px;

		display: grid;
		grid-template-columns: 1fr;
		grid-template-rows: 1fr;

		#graph-container {
			width: 100%;
			height: 100%;
		}
	}

}


// ============================================================================== //
// ============================================================================== //
// ============================================================================== //